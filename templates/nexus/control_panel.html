{% extends "nexus/nexus_base.html" %}

{% block scripts %}
    {{ block.super }}
    <!-- scripts to prepoulate slugs -->
    <script type="text/JavaScript" src="/static/js/yacon/djangoadmin/urlify.js">
    </script>

    <script type="text/JavaScript" src="/static/js/yacon/panel/helpers.js">
    </script>
    <script type="text/JavaScript" src="/static/js/yacon/panel/tree.js">
    </script>
    <script type="text/JavaScript" src="/static/js/yacon/panel/site_control.js">
    </script>
    <script type="text/JavaScript" src="/static/js/yacon/panel/toolbars.js">
    </script>
    <script type="text/JavaScript" src="/static/js/yacon/panel/dialogs.js">
    </script>
    <script type="text/JavaScript" src="/static/js/yacon/panel/autopop.js">
    </script>
    <script type="text/JavaScript" src="/static/js/yacon/panel/ready.js">
    </script>

    <script type="text/JavaScript">
        $(document).ready(function(){
            $('#navbar').tabnav('select', 0);
        });
    </script>
{% endblock scripts %}

{% block content %}
<div class="left">
    <div id="toolbar" class="ui-widget-header ui-corner-all">
        <div id="site_select_wrapper">
            <select id="site_select">
            </select>
        </div>
        <div id="site_sidebar">
            <button id="site_info">Site Info</button>
        </div>
    </div>
    <br/>
    <div id="tree">
    </div>
    <br/>
    <div id="page_types_tree">
    </div>
</div>
<div class="right">
    <div id="toolbar" class="ui-widget-header ui-corner-all">
        <div id="folder_toolbar">
            <button id="add_folder">Add Child Folder</button>
            <button id="add_page">Add Child Page</button>
            <button id="remove_folder_warn">Remove Folder</button>
            <button id="add_path">Add Translation</button>
        </div>
        <div id="metapage_toolbar">
            <button id="remove_page_warn">Remove Page</button>
            <button id="add_translation">Add Translation</button>
            <button id="make_default_page">Default For Node</button>
        </div>
        <div id="site_toolbar">
            <button id="set_site_default_lang">Set Default Language</button>
            <button id="add_site_lang">Add Language</button>
        </div>
    </div>
    <div id="node_container">
    </div>
</div>

<!-- Dialog Boxes -->
<div id="remove_folder_dialog">
</div>

<div id="remove_page_dialog">
</div>

<div id="add_folder_dialog">
    <p>
        Enter title and slug for the new sub-folder using the site's default
        language:
    </p>
    <form id="add_folder_form">
        <table class="dialog_form_table">
            <tr>
                <th> <label for="add_folder_title">Title</label> </th>
                <td> 
                    <input type="text" name="title" id="add_folder_title" /> 
                </td>
            </tr>
            <tr>
                <th> <label for="add_folder_slug">Slug</label> </th>
                <td> 
                    <input type="text" name="slug" id="add_folder_slug" /> 
                </td>
            </tr>
        </table>
    </form>
</div>

<div id="add_page_dialog">
    <p>
        Enter title and slug for the new page using the site's default
        language:
    </p>
    <form id="add_page_form">
        <table class="dialog_form_table">
            <tr>
                <th> <label for="add_page_pagetype">Page Type</label> </th>
                <td>
                    <select id="add_page_pagetype">
                    </select>
                </td>
            </tr>
            <tr>
                <th> <label for="add_page_title">Title</label> </th>
                <td> 
                    <input type="text" name="title" id="add_page_title" /> 
                </td>
            </tr>
            <tr>
                <th> <label for="add_page_slug">Slug</label> </th>
                <td> 
                    <input type="text" name="slug" id="add_page_slug"/> 
                </td>
            </tr>
        </table>
    </form>
</div>

<div id="add_translation_dialog">
    <p>
        Enter title and slug for the new translation:
    </p>
    <form id="add_translation_form">
        <table class="dialog_form_table">
            <tr>
                <th> <label for="add_translation_lang">Language</label> </th>
                <td>
                    <select id="add_translation_lang">
                    </select>
                </td>
            </tr>
            <tr>
                <th> <label for="add_translation_title">Title</label> </th>
                <td> 
                    <input type="text" name="title" 
                        id="add_translation_title" /> 
                </td>
            </tr>
            <tr>
                <th> <label for="add_translation_slug">Slug</label> </th>
                <td> 
                    <input type="text" name="slug" id="add_translation_slug"/> 
                </td>
            </tr>
        </table>
    </form>
</div>

<div id="add_path_dialog">
    <p>
        Enter name and slug for a new translated path:
    </p>
    <form id="add_path_form">
        <table class="dialog_form_table">
            <tr>
                <th> <label for="add_path_lang">Language</label> </th>
                <td>
                    <select id="add_path_lang">
                    </select>
                </td>
            </tr>
            <tr>
                <th> <label for="add_path_name">Name</label> </th>
                <td> 
                    <input type="text" name="name" id="add_path_name" /> 
                </td>
            </tr>
            <tr>
                <th> <label for="add_path_slug">Slug</label> </th>
                <td> 
                    <input type="text" name="slug" id="add_path_slug"/> 
                </td>
            </tr>
        </table>
    </form>
</div>

<div id="remove_path_dialog">
</div>

<div id="edit_path_dialog">
    <p>
        Edit path details:
    </p>
    <form id="edit_path_form">
        <table class="dialog_form_table">
            <tr>
                <th> <label for="edit_path_lang">Language</label> </th>
                <td> 
                    <input type="text" name="language" readonly="readonly"
                        id="edit_path_lang" /> 
                </td>
            </tr>
            <tr>
                <th> <label for="edit_path_name">Name</label> </th>
                <td> 
                    <input type="text" name="name" id="edit_path_name" /> 
                </td>
            </tr>
            <tr>
                <th> <label for="edit_path_slug">Slug</label> </th>
                <td> 
                    <input type="text" name="slug" id="edit_path_slug"/> 
                </td>
            </tr>
        </table>
    </form>
    <div id="edit_path_dialog_warn">
    </div>
</div>

<div id="add_site_lang_dialog">
    <p>
        Choose a language to add to this site.  Additional languages can be
        added on the "Settings" tab.
    </p>
    <form id="add_site_lang_form">
        <table class="dialog_form_table">
            <tr>
                <th> <label for="add_site_lang_lang">Language</label> </th>
                <td>
                    <select id="add_site_lang_lang">
                    </select>
                </td>
            </tr>
        </table>
    </form>
</div>

<div id="set_site_default_lang_dialog">
    <p>
        Choose a language to make the default for this site.
    </p>
    <form id="set_site_default_lang_form">
        <table class="dialog_form_table">
            <tr>
                <th> 
                    <label for="set_site_default_lang_lang">Language</label> 
                </th>
                <td>
                    <select id="set_site_default_lang_lang">
                    </select>
                </td>
            </tr>
        </table>
    </form>
</div>
{% endblock content %}
